!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(ae){"use strict";function r(e,d){function t(e){if(!(!0===B.data(Ae+"_intouch")||0<ae(e.target).closest(d.excludedElements,B).length)){var t=e.originalEvent?e.originalEvent:e;if(!t.pointerType||"mouse"!=t.pointerType||0!=d.fallbackToMouseEvents){var n,r=t.touches,i=r?r[0]:t;return J=Oe,r?K=r.length:!1!==d.preventDefaultEvents&&e.preventDefault(),G=F=C=null,W=1,z=V=Y=X=Q=0,(l={})[ue]=L(ue),l[se]=L(se),l[ce]=L(ce),l[pe]=L(pe),Z=l,b(),M(0,i),!r||K===d.fingers||d.fingers===be||T()?(ee=I(),2==K&&(M(1,r[1]),Y=V=k($[0].start,$[1].start)),(d.swipeStatus||d.pinchStatus)&&(n=v(t,J))):n=!1,!1===n?(v(t,J=De),n):(d.hold&&(oe=setTimeout(ae.proxy(function(){B.trigger("hold",[t.target]),d.hold&&(n=d.hold.call(B,t,t.target))},this),d.longTapThreshold)),O(!0),null)}}var l}function n(e){var t,n,r,i,l,o,a,u,s,c,p,h,f,g=e.originalEvent?e.originalEvent:e;J===Pe||J===De||S()||(r=P((n=g.touches)?n[0]:g),te=I(),n&&(K=n.length),d.hold&&clearTimeout(oe),J=Me,2==K&&(0==Y?(M(1,n[1]),Y=V=k($[0].start,$[1].start)):(P(n[1]),V=k($[0].end,$[1].end),$[0].end,$[1].end,G=W<1?fe:he),W=(V/Y*1).toFixed(2),z=Math.abs(Y-V)),K===d.fingers||d.fingers===be||!n||T()?(C=A(r.start,r.end),function(e,t){if(!1!==d.preventDefaultEvents)if(d.allowPageScroll===ge)e.preventDefault();else{var n=d.allowPageScroll===de;switch(t){case ue:(d.swipeLeft&&n||!n&&d.allowPageScroll!=me)&&e.preventDefault();break;case se:(d.swipeRight&&n||!n&&d.allowPageScroll!=me)&&e.preventDefault();break;case ce:(d.swipeUp&&n||!n&&d.allowPageScroll!=xe)&&e.preventDefault();break;case pe:(d.swipeDown&&n||!n&&d.allowPageScroll!=xe)&&e.preventDefault()}}}(e,F=A(r.last,r.end)),h=r.start,f=r.end,Q=Math.round(Math.sqrt(Math.pow(f.x-h.x,2)+Math.pow(f.y-h.y,2))),X=R(),p=Q,(c=C)!=ge&&(p=Math.max(p,D(c)),Z[c].distance=p),t=v(g,J),d.triggerOnTouchEnd&&!d.triggerOnTouchLeave||(i=!0,d.triggerOnTouchLeave&&(l={left:(s=(u=ae(u=this)).offset()).left,right:s.left+u.outerWidth(),top:s.top,bottom:s.top+u.outerHeight()},o=r.end,a=l,i=o.x>a.left&&o.x<a.right&&o.y>a.top&&o.y<a.bottom),!d.triggerOnTouchEnd&&i?J=w(Me):d.triggerOnTouchLeave&&!i&&(J=w(Pe)),J!=De&&J!=Pe||v(g,J))):v(g,J=De),!1===t&&v(g,J=De))}function r(e){var t,n=e.originalEvent?e.originalEvent:e,r=n.touches;if(r){if(r.length&&!S())return t=n,ne=I(),re=t.touches.length+1,!0;if(r.length&&S())return!0}return S()&&(K=re),te=I(),X=R(),s()||!u()?v(n,J=De):d.triggerOnTouchEnd||!1===d.triggerOnTouchEnd&&J===Me?(!1!==d.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),v(n,J=Pe)):!d.triggerOnTouchEnd&&E()?a(n,J=Pe,Te):J===Me&&v(n,J=De),O(!1),null}function i(){V=Y=ee=te=K=0,b(),O(!(W=1))}function l(e){var t=e.originalEvent?e.originalEvent:e;d.triggerOnTouchLeave&&v(t,J=w(Pe))}function o(){B.off(j,t),B.off(q,i),B.off(N,n),B.off(H,r),_&&B.off(_,l),O(!1)}function w(e){var t=e,n=c(),r=u(),i=s();return!n||i?t=De:!r||e!=Me||d.triggerOnTouchEnd&&!d.triggerOnTouchLeave?!r&&e==Pe&&d.triggerOnTouchLeave&&(t=De):t=Pe,t}function v(e,t){var n,r=e.touches;return(h()&&f()||f())&&(n=a(e,t,we)),(p()&&T()||T())&&!1!==n&&(n=a(e,t,ve)),x()&&m()&&!1!==n?n=a(e,t,ye):X>d.longTapThreshold&&Q<Se&&d.longTap&&!1!==n?n=a(e,t,Ee):1!==K&&Le||!(isNaN(Q)||Q<d.threshold)||!E()||!1===n||(n=a(e,t,Te)),t===De&&i(),t===Pe&&(r&&r.length||i()),n}function a(e,t,n){var r;if(n==we){if(B.trigger("swipeStatus",[t,C||null,Q||0,X||0,K,$,F]),d.swipeStatus&&!1===(r=d.swipeStatus.call(B,e,t,C||null,Q||0,X||0,K,$,F)))return!1;if(t==Pe&&h()){if(clearTimeout(le),clearTimeout(oe),B.trigger("swipe",[C,Q,X,K,$,F]),d.swipe&&!1===(r=d.swipe.call(B,e,C,Q,X,K,$,F)))return!1;switch(C){case ue:B.trigger("swipeLeft",[C,Q,X,K,$,F]),d.swipeLeft&&(r=d.swipeLeft.call(B,e,C,Q,X,K,$,F));break;case se:B.trigger("swipeRight",[C,Q,X,K,$,F]),d.swipeRight&&(r=d.swipeRight.call(B,e,C,Q,X,K,$,F));break;case ce:B.trigger("swipeUp",[C,Q,X,K,$,F]),d.swipeUp&&(r=d.swipeUp.call(B,e,C,Q,X,K,$,F));break;case pe:B.trigger("swipeDown",[C,Q,X,K,$,F]),d.swipeDown&&(r=d.swipeDown.call(B,e,C,Q,X,K,$,F))}}}if(n==ve){if(B.trigger("pinchStatus",[t,G||null,z||0,X||0,K,W,$]),d.pinchStatus&&!1===(r=d.pinchStatus.call(B,e,t,G||null,z||0,X||0,K,W,$)))return!1;if(t==Pe&&p())switch(G){case he:B.trigger("pinchIn",[G||null,z||0,X||0,K,W,$]),d.pinchIn&&(r=d.pinchIn.call(B,e,G||null,z||0,X||0,K,W,$));break;case fe:B.trigger("pinchOut",[G||null,z||0,X||0,K,W,$]),d.pinchOut&&(r=d.pinchOut.call(B,e,G||null,z||0,X||0,K,W,$))}}return n==Te?t!==De&&t!==Pe||(clearTimeout(le),clearTimeout(oe),m()&&!x()?(ie=I(),le=setTimeout(ae.proxy(function(){ie=null,B.trigger("tap",[e.target]),d.tap&&(r=d.tap.call(B,e,e.target))},this),d.doubleTapThreshold)):(ie=null,B.trigger("tap",[e.target]),d.tap&&(r=d.tap.call(B,e,e.target)))):n==ye?t!==De&&t!==Pe||(clearTimeout(le),clearTimeout(oe),ie=null,B.trigger("doubletap",[e.target]),d.doubleTap&&(r=d.doubleTap.call(B,e,e.target))):n==Ee&&(t!==De&&t!==Pe||(clearTimeout(le),ie=null,B.trigger("longtap",[e.target]),d.longTap&&(r=d.longTap.call(B,e,e.target)))),r}function u(){var e=!0;return null!==d.threshold&&(e=Q>=d.threshold),e}function s(){var e=!1;return null!==d.cancelThreshold&&null!==C&&(e=D(C)-Q>=d.cancelThreshold),e}function c(){return!d.maxTimeThreshold||!(X>=d.maxTimeThreshold)}function p(){var e=g(),t=y(),n=null===d.pinchThreshold||z>=d.pinchThreshold;return e&&t&&n}function T(){return d.pinchStatus||d.pinchIn||d.pinchOut}function h(){var e=c(),t=u(),n=g(),r=y();return!s()&&r&&n&&t&&e}function f(){return d.swipe||d.swipeStatus||d.swipeLeft||d.swipeRight||d.swipeUp||d.swipeDown}function g(){return K===d.fingers||d.fingers===be||!Le}function y(){return 0!==$[0].end.x}function E(){return d.tap}function m(){return!!d.doubleTap}function x(){if(null==ie)return!1;var e=I();return m()&&e-ie<=d.doubleTapThreshold}function b(){re=ne=0}function S(){var e=!1;return ne&&I()-ne<=d.fingerReleaseThreshold&&(e=!0),e}function O(e){B&&(!0===e?(B.on(N,n),B.on(H,r),_&&B.on(_,l)):(B.off(N,n,!1),B.off(H,r,!1),_&&B.off(_,l,!1)),B.data(Ae+"_intouch",!0===e))}function M(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,$[e]=n}function P(e){var t=void 0!==e.identifier?e.identifier:0,n=$[t]||null;return null===n&&(n=M(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function D(e){return Z[e]?Z[e].distance:void 0}function L(e){return{direction:e,distance:0}}function R(){return te-ee}function k(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+r*r))}function A(e,t){if(r=t,(n=e).x==r.x&&n.y==r.y)return ge;var n,r,i,l,o,a,u,s,c=(l=t,o=(i=e).x-l.x,a=l.y-i.y,u=Math.atan2(a,o),(s=Math.round(180*u/Math.PI))<0&&(s=360-Math.abs(s)),s);return c<=45&&0<=c||c<=360&&315<=c?ue:135<=c&&c<=225?se:45<c&&c<135?pe:ce}function I(){return(new Date).getTime()}var d=ae.extend({},d),U=Le||ke||!d.fallbackToMouseEvents,j=U?ke?Re?"MSPointerDown":"pointerdown":"touchstart":"mousedown",N=U?ke?Re?"MSPointerMove":"pointermove":"touchmove":"mousemove",H=U?ke?Re?"MSPointerUp":"pointerup":"touchend":"mouseup",_=!U||ke?"mouseleave":null,q=ke?Re?"MSPointerCancel":"pointercancel":"touchcancel",Q=0,C=null,F=null,X=0,Y=0,V=0,W=1,z=0,G=0,Z=null,B=ae(e),J="start",K=0,$={},ee=0,te=0,ne=0,re=0,ie=0,le=null,oe=null;try{B.on(j,t),B.on(q,i)}catch(e){ae.error("events not supported "+j+","+q+" on jQuery.swipe")}this.enable=function(){return this.disable(),B.on(j,t),B.on(q,i),B},this.disable=function(){return o(),B},this.destroy=function(){o(),B.data(Ae,null),B=null},this.option=function(e,t){if("object"==typeof e)d=ae.extend(d,e);else if(void 0!==d[e]){if(void 0===t)return d[e];d[e]=t}else{if(!e)return d;ae.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}var ue="left",se="right",ce="up",pe="down",he="in",fe="out",ge="none",de="auto",we="swipe",ve="pinch",Te="tap",ye="doubletap",Ee="longtap",me="horizontal",xe="vertical",be="all",Se=10,Oe="start",Me="move",Pe="end",De="cancel",Le="ontouchstart"in window,Re=window.navigator.msPointerEnabled&&!window.PointerEvent&&!Le,ke=(window.PointerEvent||window.navigator.msPointerEnabled)&&!Le,Ae="TouchSwipe";ae.fn.swipe=function(e){var t=ae(this),n=t.data(Ae);if(n&&"string"==typeof e){if(n[e])return n[e].apply(n,Array.prototype.slice.call(arguments,1));ae.error("Method "+e+" does not exist on jQuery.swipe")}else if(n&&"object"==typeof e)n.option.apply(n,arguments);else if(!(n||"object"!=typeof e&&e))return function(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=ge),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n=n||{},n=ae.extend({},ae.fn.swipe.defaults,n),this.each(function(){var e=ae(this),t=e.data(Ae);t||(t=new r(this,n),e.data(Ae,t))})}.apply(this,arguments);return t},ae.fn.swipe.version="1.6.18",ae.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},ae.fn.swipe.phases={PHASE_START:Oe,PHASE_MOVE:Me,PHASE_END:Pe,PHASE_CANCEL:De},ae.fn.swipe.directions={LEFT:ue,RIGHT:se,UP:ce,DOWN:pe,IN:he,OUT:fe},ae.fn.swipe.pageScroll={NONE:ge,HORIZONTAL:me,VERTICAL:xe,AUTO:de},ae.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:be}});